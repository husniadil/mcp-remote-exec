# =================================================================
# SSH MCP Remote Exec Configuration
# =================================================================
# Copy this file to .env and configure your SSH connections

# =============================================================================
# CRITICAL: RISK ACCEPTANCE REQUIRED
# =============================================================================
# You MUST accept the risks before using this software.
# Set to "true" after understanding the security implications.
I_ACCEPT_RISKS=false

# =================================================================
# SSH HOST CONFIGURATION (REQUIRED)
# =================================================================
# Configure your SSH host connection
HOST=
SSH_USERNAME=root
SSH_PORT=22

# Choose ONE authentication method:
# Option 1: Password authentication
SSH_PASSWORD=

# Option 2: SSH key authentication (recommended)
SSH_KEY=

# =================================================================
# SECURITY LIMITS
# =================================================================
# Maximum character limit for command output (default: 25000)
CHARACTER_LIMIT=25000

# Maximum file size for transfers in bytes (default: 10MB)
MAX_FILE_SIZE=10485760

# Default timeout for command execution in seconds (default: 30)
TIMEOUT=30

# SSH host key verification (default: true)
# true = Reject connections to unknown hosts (secure, requires known_hosts)
# false = Auto-accept unknown hosts (convenient for containers/dev, less secure)
SSH_STRICT_HOST_KEY_CHECKING=true

# =================================================================
# PLUGIN CONFIGURATION (OPTIONAL)
# =================================================================
# Enable plugins to extend functionality with domain-specific tools

# Proxmox Plugin - Container management tools
# Requires: Proxmox VE as the SSH host
# Provides: Container exec, list, start, stop, file transfers
ENABLE_PROXMOX=false

# ImageKit Plugin - Two-phase file transfers for HTTP gateway scenarios
# Requires: ImageKit account (free tier available at https://imagekit.io)
# When enabled: Replaces ssh_upload_file and ssh_download_file tools
# Use when: MCP server runs through HTTP gateway (direct SFTP doesn't work)
# Get credentials from: https://imagekit.io/dashboard/developer/api-keys
ENABLE_IMAGEKIT=false
IMAGEKIT_PUBLIC_KEY=public_*********************
IMAGEKIT_PRIVATE_KEY=private_********************
IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/your_imagekit_id

# Optional: Folder to organize transfer files (default: /mcp-remote-exec)
# IMAGEKIT_FOLDER=/mcp-remote-exec

# Optional: Transfer timeout in seconds (default: 3600 = 1 hour)
# IMAGEKIT_TRANSFER_TIMEOUT=3600

# =================================================================
# EXAMPLE CONFIGURATIONS
# =================================================================

# === Example 1: Password authentication ===
# I_ACCEPT_RISKS=true
# HOST=192.168.1.100
# SSH_USERNAME=root
# SSH_PASSWORD=SecretPassword123

# === Example 2: SSH key authentication ===
# I_ACCEPT_RISKS=true
# HOST=10.0.0.10
# SSH_USERNAME=admin
# SSH_KEY=/home/user/.ssh/id_rsa

# === Example 3: Proxmox VE with container management ===
# I_ACCEPT_RISKS=true
# HOST=192.168.1.100
# SSH_USERNAME=root
# SSH_PASSWORD=ProxmoxPassword
# ENABLE_PROXMOX=true

# === Example 4: HTTP gateway deployment with ImageKit ===
# Use when MCP server runs behind HTTP gateway (e.g., cloud deployment)
# I_ACCEPT_RISKS=true
# HOST=192.168.1.100
# SSH_USERNAME=root
# SSH_PASSWORD=SecretPassword
# ENABLE_IMAGEKIT=true
# IMAGEKIT_PUBLIC_KEY=public_*********************
# IMAGEKIT_PRIVATE_KEY=private_********************
# IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/your_imagekit_id

# === Example 5: Proxmox + ImageKit (combined) ===
# Best for: Proxmox server accessed through HTTP gateway
# I_ACCEPT_RISKS=true
# HOST=192.168.1.100
# SSH_USERNAME=root
# SSH_PASSWORD=ProxmoxPassword
# ENABLE_PROXMOX=true
# ENABLE_IMAGEKIT=true
# IMAGEKIT_PUBLIC_KEY=public_*********************
# IMAGEKIT_PRIVATE_KEY=private_********************
# IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/your_imagekit_id

# =================================================================
# SECURITY NOTES
# =================================================================
# 1. This server provides FULL SSH access to configured hosts
# 2. Commands execute as the configured SSH user (often root)
# 3. File transfers can modify or retrieve sensitive data
# 4. Monitor logs for suspicious activity
# 5. Consider using SSH keys instead of passwords
# 6. Rotate credentials regularly
# 7. Maintain regular backups
#
# By setting I_ACCEPT_RISKS=true, you acknowledge that:
# • You understand these security risks
# • You will monitor and secure your deployment
# • You have appropriate backups and disaster recovery
# • You are responsible for any damage or data loss
# =================================================================
